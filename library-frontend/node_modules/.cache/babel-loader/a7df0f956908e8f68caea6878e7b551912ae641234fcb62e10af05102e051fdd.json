{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vibhav\\\\Desktop\\\\library\\\\library-frontend\\\\src\\\\components\\\\Documents.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { documentAPI, categoryAPI } from '../services/api';\nimport { FileText, Download, Search, ChevronDown, ChevronRight, Folder, FolderOpen } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Documents = () => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [expandedCategories, setExpandedCategories] = useState(new Set());\n  const [categoryTree, setCategoryTree] = useState([]);\n  const [categorizedDocuments, setCategorizedDocuments] = useState({});\n  useEffect(() => {\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (categories.length > 0 && documents.length > 0) {\n      organizeCategoriesAndDocuments();\n    }\n  }, [categories, documents, searchTerm]);\n  const loadData = async () => {\n    try {\n      const [docsResponse, categoriesResponse] = await Promise.all([documentAPI.getAll(), categoryAPI.getTree()]);\n      setDocuments(docsResponse);\n      setCategories(categoriesResponse);\n    } catch (error) {\n      console.error('Error loading documents:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const organizeCategoriesAndDocuments = () => {\n    // Filter documents based on search term\n    const filteredDocs = documents.filter(doc => doc.title.toLowerCase().includes(searchTerm.toLowerCase()));\n\n    // Group documents by category\n    const docsByCategory = {};\n    const uncategorizedDocs = [];\n    filteredDocs.forEach(doc => {\n      if (doc.category && doc.category._id) {\n        if (!docsByCategory[doc.category._id]) {\n          docsByCategory[doc.category._id] = [];\n        }\n        docsByCategory[doc.category._id].push(doc);\n      } else {\n        uncategorizedDocs.push(doc);\n      }\n    });\n\n    // Add uncategorized documents if any\n    if (uncategorizedDocs.length > 0) {\n      docsByCategory['uncategorized'] = uncategorizedDocs;\n    }\n    setCategorizedDocuments(docsByCategory);\n    setCategoryTree(categories);\n  };\n  const toggleCategory = categoryId => {\n    const newExpanded = new Set(expandedCategories);\n    if (newExpanded.has(categoryId)) {\n      newExpanded.delete(categoryId);\n    } else {\n      newExpanded.add(categoryId);\n    }\n    setExpandedCategories(newExpanded);\n  };\n  const handleDownload = (filePath, title) => {\n    const downloadUrl = documentAPI.download(filePath);\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = title;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const renderCategory = (category, level = 0) => {\n    const isExpanded = expandedCategories.has(category._id);\n    const hasDocuments = categorizedDocuments[category._id] && categorizedDocuments[category._id].length > 0;\n    const hasSubcategories = category.subcategories && category.subcategories.length > 0;\n    const hasContent = hasDocuments || hasSubcategories;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-l-2 border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center py-2 px-4 hover:bg-gray-50 cursor-pointer ${level === 0 ? 'bg-gray-100' : level === 1 ? 'bg-gray-50' : 'bg-white'}`,\n        style: {\n          paddingLeft: `${16 + level * 24}px`\n        },\n        onClick: () => hasContent && toggleCategory(category._id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 flex-1\",\n          children: [hasContent ? isExpanded ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n            className: \"h-4 w-4 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n            className: \"h-4 w-4 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), isExpanded ? /*#__PURE__*/_jsxDEV(FolderOpen, {\n            className: \"h-5 w-5 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Folder, {\n            className: \"h-5 w-5 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `font-medium ${level === 0 ? 'text-gray-900' : level === 1 ? 'text-gray-800' : 'text-gray-700'}`,\n            children: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), hasDocuments && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n          children: categorizedDocuments[category._id].length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), isExpanded && hasContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4\",\n        children: [hasDocuments && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 mb-2\",\n          children: categorizedDocuments[category._id].map(document => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between py-2 px-4 hover:bg-blue-50 rounded-md mx-2\",\n            style: {\n              paddingLeft: `${16 + (level + 1) * 24}px`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"h-4 w-4 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-blue-600 truncate\",\n                  children: document.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: new Date(document.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDownload(document.filePath, document.title),\n              className: \"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"h-3 w-3 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), \"Download\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 21\n            }, this)]\n          }, document._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this), hasSubcategories && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: category.subcategories.map(subcategory => renderCategory(subcategory, level + 1))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, category._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  };\n  const renderUncategorizedDocuments = () => {\n    const uncategorizedDocs = categorizedDocuments['uncategorized'];\n    if (!uncategorizedDocs || uncategorizedDocs.length === 0) return null;\n    const isExpanded = expandedCategories.has('uncategorized');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-l-2 border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center py-2 px-4 hover:bg-gray-50 cursor-pointer bg-gray-100\",\n        onClick: () => toggleCategory('uncategorized'),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 flex-1\",\n          children: [isExpanded ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n            className: \"h-4 w-4 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n            className: \"h-4 w-4 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), isExpanded ? /*#__PURE__*/_jsxDEV(FolderOpen, {\n            className: \"h-5 w-5 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Folder, {\n            className: \"h-5 w-5 text-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-900\",\n            children: \"Uncategorized\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",\n          children: uncategorizedDocs.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4 space-y-1 mb-2\",\n        children: uncategorizedDocs.map(document => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between py-2 px-4 hover:bg-blue-50 rounded-md mx-2\",\n          style: {\n            paddingLeft: '40px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"h-4 w-4 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-blue-600 truncate\",\n                children: document.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: new Date(document.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDownload(document.filePath, document.title),\n            className: \"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              className: \"h-3 w-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }, this), \"Download\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this)]\n        }, document._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this);\n  }\n  const totalDocuments = documents.filter(doc => doc.title.toLowerCase().includes(searchTerm.toLowerCase())).length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: \"Document Library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Browse and download documents organized by categories. Click on categories to expand and view documents.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-5 sm:p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"search\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Search Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 relative rounded-md shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(Search, {\n                className: \"h-5 w-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"search\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md\",\n              placeholder: \"Search by document title...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-3 sm:px-6 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: searchTerm ? `Found ${totalDocuments} documents matching \"${searchTerm}\"` : `${totalDocuments} documents available`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setExpandedCategories(new Set()),\n            className: \"text-sm text-gray-500 hover:text-gray-700\",\n            children: \"Collapse All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              const allIds = new Set();\n              const addIds = cats => {\n                cats.forEach(cat => {\n                  var _cat$subcategories;\n                  if (categorizedDocuments[cat._id] || ((_cat$subcategories = cat.subcategories) === null || _cat$subcategories === void 0 ? void 0 : _cat$subcategories.length) > 0) {\n                    allIds.add(cat._id);\n                  }\n                  if (cat.subcategories) {\n                    addIds(cat.subcategories);\n                  }\n                });\n              };\n              addIds(categoryTree);\n              if (categorizedDocuments['uncategorized']) {\n                allIds.add('uncategorized');\n              }\n              setExpandedCategories(allIds);\n            },\n            className: \"text-sm text-blue-600 hover:text-blue-800\",\n            children: \"Expand All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-md\",\n      children: categoryTree.length > 0 || categorizedDocuments['uncategorized'] ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: [categoryTree.map(category => renderCategory(category)), renderUncategorizedDocuments()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No documents found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: searchTerm ? 'Try adjusting your search criteria.' : 'No documents have been uploaded yet.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n_s(Documents, \"TZvpJmCTM7VMryKsPgfvOF9RpXs=\");\n_c = Documents;\nexport default Documents;\nvar _c;\n$RefreshReg$(_c, \"Documents\");","map":{"version":3,"names":["React","useState","useEffect","documentAPI","categoryAPI","FileText","Download","Search","ChevronDown","ChevronRight","Folder","FolderOpen","jsxDEV","_jsxDEV","Documents","_s","documents","setDocuments","categories","setCategories","loading","setLoading","searchTerm","setSearchTerm","expandedCategories","setExpandedCategories","Set","categoryTree","setCategoryTree","categorizedDocuments","setCategorizedDocuments","loadData","length","organizeCategoriesAndDocuments","docsResponse","categoriesResponse","Promise","all","getAll","getTree","error","console","filteredDocs","filter","doc","title","toLowerCase","includes","docsByCategory","uncategorizedDocs","forEach","category","_id","push","toggleCategory","categoryId","newExpanded","has","delete","add","handleDownload","filePath","downloadUrl","download","link","document","createElement","href","body","appendChild","click","removeChild","renderCategory","level","isExpanded","hasDocuments","hasSubcategories","subcategories","hasContent","className","children","style","paddingLeft","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","map","Date","createdAt","toLocaleDateString","subcategory","renderUncategorizedDocuments","totalDocuments","htmlFor","type","id","value","onChange","e","target","placeholder","allIds","addIds","cats","cat","_cat$subcategories","_c","$RefreshReg$"],"sources":["C:/Users/vibhav/Desktop/library/library-frontend/src/components/Documents.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { documentAPI, categoryAPI } from '../services/api';\r\nimport { FileText, Download, Search, ChevronDown, ChevronRight, Folder, FolderOpen } from 'lucide-react';\r\n\r\nconst Documents = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [expandedCategories, setExpandedCategories] = useState(new Set());\r\n  const [categoryTree, setCategoryTree] = useState([]);\r\n  const [categorizedDocuments, setCategorizedDocuments] = useState({});\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categories.length > 0 && documents.length > 0) {\r\n      organizeCategoriesAndDocuments();\r\n    }\r\n  }, [categories, documents, searchTerm]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [docsResponse, categoriesResponse] = await Promise.all([\r\n        documentAPI.getAll(),\r\n        categoryAPI.getTree(),\r\n      ]);\r\n      \r\n      setDocuments(docsResponse);\r\n      setCategories(categoriesResponse);\r\n    } catch (error) {\r\n      console.error('Error loading documents:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const organizeCategoriesAndDocuments = () => {\r\n    // Filter documents based on search term\r\n    const filteredDocs = documents.filter(doc =>\r\n      doc.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    // Group documents by category\r\n    const docsByCategory = {};\r\n    const uncategorizedDocs = [];\r\n\r\n    filteredDocs.forEach(doc => {\r\n      if (doc.category && doc.category._id) {\r\n        if (!docsByCategory[doc.category._id]) {\r\n          docsByCategory[doc.category._id] = [];\r\n        }\r\n        docsByCategory[doc.category._id].push(doc);\r\n      } else {\r\n        uncategorizedDocs.push(doc);\r\n      }\r\n    });\r\n\r\n    // Add uncategorized documents if any\r\n    if (uncategorizedDocs.length > 0) {\r\n      docsByCategory['uncategorized'] = uncategorizedDocs;\r\n    }\r\n\r\n    setCategorizedDocuments(docsByCategory);\r\n    setCategoryTree(categories);\r\n  };\r\n\r\n  const toggleCategory = (categoryId) => {\r\n    const newExpanded = new Set(expandedCategories);\r\n    if (newExpanded.has(categoryId)) {\r\n      newExpanded.delete(categoryId);\r\n    } else {\r\n      newExpanded.add(categoryId);\r\n    }\r\n    setExpandedCategories(newExpanded);\r\n  };\r\n\r\n  const handleDownload = (filePath, title) => {\r\n    const downloadUrl = documentAPI.download(filePath);\r\n    const link = document.createElement('a');\r\n    link.href = downloadUrl;\r\n    link.download = title;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const renderCategory = (category, level = 0) => {\r\n    const isExpanded = expandedCategories.has(category._id);\r\n    const hasDocuments = categorizedDocuments[category._id] && categorizedDocuments[category._id].length > 0;\r\n    const hasSubcategories = category.subcategories && category.subcategories.length > 0;\r\n    const hasContent = hasDocuments || hasSubcategories;\r\n\r\n    return (\r\n      <div key={category._id} className=\"border-l-2 border-gray-200\">\r\n        <div \r\n          className={`flex items-center py-2 px-4 hover:bg-gray-50 cursor-pointer ${\r\n            level === 0 ? 'bg-gray-100' : level === 1 ? 'bg-gray-50' : 'bg-white'\r\n          }`}\r\n          style={{ paddingLeft: `${16 + level * 24}px` }}\r\n          onClick={() => hasContent && toggleCategory(category._id)}\r\n        >\r\n          <div className=\"flex items-center space-x-2 flex-1\">\r\n            {hasContent ? (\r\n              isExpanded ? (\r\n                <ChevronDown className=\"h-4 w-4 text-gray-500\" />\r\n              ) : (\r\n                <ChevronRight className=\"h-4 w-4 text-gray-500\" />\r\n              )\r\n            ) : (\r\n              <div className=\"w-4 h-4\" />\r\n            )}\r\n            \r\n            {isExpanded ? (\r\n              <FolderOpen className=\"h-5 w-5 text-blue-500\" />\r\n            ) : (\r\n              <Folder className=\"h-5 w-5 text-gray-500\" />\r\n            )}\r\n            \r\n            <span className={`font-medium ${\r\n              level === 0 ? 'text-gray-900' : level === 1 ? 'text-gray-800' : 'text-gray-700'\r\n            }`}>\r\n              {category.name}\r\n            </span>\r\n          </div>\r\n          \r\n          {hasDocuments && (\r\n            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n              {categorizedDocuments[category._id].length}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {isExpanded && hasContent && (\r\n          <div className=\"ml-4\">\r\n            {/* Render documents for this category */}\r\n            {hasDocuments && (\r\n              <div className=\"space-y-1 mb-2\">\r\n                {categorizedDocuments[category._id].map((document) => (\r\n                  <div \r\n                    key={document._id} \r\n                    className=\"flex items-center justify-between py-2 px-4 hover:bg-blue-50 rounded-md mx-2\"\r\n                    style={{ paddingLeft: `${16 + (level + 1) * 24}px` }}\r\n                  >\r\n                    <div className=\"flex items-center space-x-3 flex-1\">\r\n                      <FileText className=\"h-4 w-4 text-blue-600\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-blue-600 truncate\">\r\n                          {document.title}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">\r\n                          {new Date(document.createdAt).toLocaleDateString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleDownload(document.filePath, document.title)}\r\n                      className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                    >\r\n                      <Download className=\"h-3 w-3 mr-1\" />\r\n                      Download\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Render subcategories */}\r\n            {hasSubcategories && (\r\n              <div>\r\n                {category.subcategories.map(subcategory => \r\n                  renderCategory(subcategory, level + 1)\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderUncategorizedDocuments = () => {\r\n    const uncategorizedDocs = categorizedDocuments['uncategorized'];\r\n    if (!uncategorizedDocs || uncategorizedDocs.length === 0) return null;\r\n\r\n    const isExpanded = expandedCategories.has('uncategorized');\r\n\r\n    return (\r\n      <div className=\"border-l-2 border-gray-200\">\r\n        <div \r\n          className=\"flex items-center py-2 px-4 hover:bg-gray-50 cursor-pointer bg-gray-100\"\r\n          onClick={() => toggleCategory('uncategorized')}\r\n        >\r\n          <div className=\"flex items-center space-x-2 flex-1\">\r\n            {isExpanded ? (\r\n              <ChevronDown className=\"h-4 w-4 text-gray-500\" />\r\n            ) : (\r\n              <ChevronRight className=\"h-4 w-4 text-gray-500\" />\r\n            )}\r\n            \r\n            {isExpanded ? (\r\n              <FolderOpen className=\"h-5 w-5 text-gray-500\" />\r\n            ) : (\r\n              <Folder className=\"h-5 w-5 text-gray-500\" />\r\n            )}\r\n            \r\n            <span className=\"font-medium text-gray-900\">\r\n              Uncategorized\r\n            </span>\r\n          </div>\r\n          \r\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\r\n            {uncategorizedDocs.length}\r\n          </span>\r\n        </div>\r\n\r\n        {isExpanded && (\r\n          <div className=\"ml-4 space-y-1 mb-2\">\r\n            {uncategorizedDocs.map((document) => (\r\n              <div \r\n                key={document._id} \r\n                className=\"flex items-center justify-between py-2 px-4 hover:bg-blue-50 rounded-md mx-2\"\r\n                style={{ paddingLeft: '40px' }}\r\n              >\r\n                <div className=\"flex items-center space-x-3 flex-1\">\r\n                  <FileText className=\"h-4 w-4 text-blue-600\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-blue-600 truncate\">\r\n                      {document.title}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {new Date(document.createdAt).toLocaleDateString()}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => handleDownload(document.filePath, document.title)}\r\n                  className=\"inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                >\r\n                  <Download className=\"h-3 w-3 mr-1\" />\r\n                  Download\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const totalDocuments = documents.filter(doc =>\r\n    doc.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n  ).length;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\r\n            Document Library\r\n          </h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Browse and download documents organized by categories. Click on categories to expand and view documents.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <div>\r\n            <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700\">\r\n              Search Documents\r\n            </label>\r\n            <div className=\"mt-1 relative rounded-md shadow-sm\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <Search className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                id=\"search\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md\"\r\n                placeholder=\"Search by document title...\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Results Summary */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-3 sm:px-6 flex items-center justify-between\">\r\n          <p className=\"text-sm text-gray-700\">\r\n            {searchTerm ? `Found ${totalDocuments} documents matching \"${searchTerm}\"` : `${totalDocuments} documents available`}\r\n          </p>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <button\r\n              onClick={() => setExpandedCategories(new Set())}\r\n              className=\"text-sm text-gray-500 hover:text-gray-700\"\r\n            >\r\n              Collapse All\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                const allIds = new Set();\r\n                const addIds = (cats) => {\r\n                  cats.forEach(cat => {\r\n                    if (categorizedDocuments[cat._id] || cat.subcategories?.length > 0) {\r\n                      allIds.add(cat._id);\r\n                    }\r\n                    if (cat.subcategories) {\r\n                      addIds(cat.subcategories);\r\n                    }\r\n                  });\r\n                };\r\n                addIds(categoryTree);\r\n                if (categorizedDocuments['uncategorized']) {\r\n                  allIds.add('uncategorized');\r\n                }\r\n                setExpandedCategories(allIds);\r\n              }}\r\n              className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n            >\r\n              Expand All\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Category Tree */}\r\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\r\n        {categoryTree.length > 0 || categorizedDocuments['uncategorized'] ? (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {categoryTree.map(category => renderCategory(category))}\r\n            {renderUncategorizedDocuments()}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No documents found</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              {searchTerm\r\n                ? 'Try adjusting your search criteria.'\r\n                : 'No documents have been uploaded yet.'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Documents; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}